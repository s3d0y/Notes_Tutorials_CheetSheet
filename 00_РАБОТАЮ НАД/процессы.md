
**Процесс** — это экземпляр выполняемой программы. Каждый процесс имеет PID, PPID и состояние.

- PID (Process ID) — уникальный числовой идентификатор.
- PPID (Parent Process ID) — идентификатор родительского процесса, который его запустил.
- Состояние — свойство, которое может свидетельствовать о выполнении, ожидании, остановке и завершении процесса.

> Пример. При запуске команды ls создается процесс, который завершается после выполнения задачи. Серверные приложения, например веб-серверы, работают как долгоживущие процессы (демоны).


## Типы процессов

**Интерактивные процессы.** Они запускаются пользователем в терминале и привязаны к текущей сессии. При закрытии терминала процесс завершится, если он не перенесен в фон.

Примеры: vim, top, grep.

**Фоновые процессы (демоны).** Работают независимо от пользовательского ввода и не связаны с терминалом, часто запускаются при старте системы.

Примеры: sshd, nginx, cron.

команды 
- ps
- pstree -p
- ps -ef

**Команда ps aux в Linux** **выводит список всех запущенных процессов в системе** **с дополнительной информацией**. [1](https://www.dmosk.ru/miniinstruktions.php?mini=processes-linux)[2](https://labex.io/ru/tutorials/linux-how-to-check-if-a-process-is-running-in-linux-558747)

Она состоит из трёх опций:

1. **a** — отображает все процессы;
2. **u** — отображает пользователя и владельца процесса;
3. **x** — отображает процессы, не имеющие управляющего терминала (полезно для просмотра фоновых процессов).

## Управление процессами

### Завершение процессов

Завершить процесс можно следующим образом.

```
kill [сигнал] <PID> # отправить сигнал процессу.  
```

Какие бывают основные сигналы:

- SIGTERM (15) — запрос на корректное завершение (по умолчанию);
- SIGKILL (9) — принудительное завершение (используйте, если процесс не реагирует на SIGTERM).

Пример:

```
kill -9 1234  # немедленно завершить процесс с PID 1234
pkill nginx  # завершить все процессы с именем nginx
```


### Приостановка и фон

Чтобы приостановить процесс, используйте комбинацию **Ctrl**+**Z** (отправляет сигнал SIGTSTP).

### Возобновить выполнение

В фоне:

```
bg %1" # где "1" — номер задачи
```

На переднем плане:

```
fg %1" 
```

#### Команда lsof

Эта команда показывает открытые файлы и процессы, которые их используют:

```
lsof -i :80 # найти процесс, использующий порт 80
```


pgrep Данная команда ищет и выводит PID всех процессов с именем nginx. Удобно для быстрого поиска идентификаторов служб или приложений.

Команда показывает PID, значение nice и команду для конкретного процесса (указанного через ). Используется для точечной проверки приоритета и деталей процесса.

```
ps -o pid,ni,cmd -p <PID> # вывод PID, nice и команды
```



## Дополнительные инструменты

#### Автоматическое изменение приоритета

```
#!/bin/bash  
for pid in $(pgrep backup); do  
    renice -n 15 -p $pid  
done  
```

Этот Bash-скрипт предназначен для изменения приоритета процессов, связанных с backup. Внутри используется команда pgrep backup, которая находит все процессы с именем, содержащим backup, и возвращает их идентификаторы (PID). Результаты этой команды передаются в цикл for, который перебирает каждый найденный PID.