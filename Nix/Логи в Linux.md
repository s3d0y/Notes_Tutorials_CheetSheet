
связать эту заметку с [[Файловая система Linux]]

Основное хранилище логов  /var/log/

- /var/log/syslog - общий систмный лог (все события в системе)
- /var/log/auth.log - логи аутентификации (вход в систему, sudo, и т.п)
- /var/log/kern.log - сообщени ядра Linux
- /var/log/dmesg -  логи загрузки и работы драйверов

Различные приложения могу создавать собственные логи

- /var/log/nginx/access.log - логи доступа веб сервера nginx
- /var/log/nginx/error.log - логи ошибок nginx
- /var/log/sql/error.log - логи ошибок MySQL/MariaDB

все логи текст. смотрим с помощью cat, more, less, head, tail  и прочих утилит

утилита journalctl

- **Space** — прокрутка на страницу вниз;
- **Enter** — прокрутка на одну строку вниз;
- **PgUp** / **PgDn** — прокрутка на страницу вверх / вниз;
- **Home** / **End** — переход в начало / конец логов;
- **↑**/**↓** — прокрутка по строкам;
- **/** — поиск вперед;
- **?** — поиск назад;
- **q** — выход из просмотра

При этом есть множество удобных параметров командной строки, с помощью которых мы можем удобно фильтровать логи. После выполнения каждой из этих команд вы попадете в знакомое меню, с которым уже умеете работать:

- journalctl -e — переход к концу логов (самые свежие записи);
- journalctl -n 20 — просмотр последних 20 записей;
- journalctl --since "09:00" — показ логов с указанного времени;
- journalctl --until "1 hour ago" — показ логов до указанного времени.

Все сервисы, которые записывают данные в журнал, отображаются в одном общем логе. Чтобы вывести записи по конкретному сервису, используйте параметры фильтрации:

- journalctl -u nginx — логи только для сервиса Nginx;
- journalctl -u sshd --since today — логи sshd за сегодня;
- journalctl -k — только логи ядра (аналог dmesg).

Вы можете дополнительно использовать параметр --grep, чтобы находить нужные подстроки:

- journalctl -k --grep BIOS — сообщения ядра, которые содержат BIOS;
- journalctl -u openvswitch --grep WARN --since "7 days ago" — все предупреждения от openvswitch за последнюю неделю.


Просмотрт журнала ssh
``` sh
journalctl -u ssh --since today --grep "Failed password"
```