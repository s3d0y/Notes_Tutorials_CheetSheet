
- **–ó–∞–¥–∞—á–∞ 1.1: –°–Ω—è—Ç—å "—Å–ª–µ–ø–æ–∫" —Å–∏—Å—Ç–µ–º—ã.**
    
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:¬†`ss -tuln`¬†–∏–ª–∏¬†`netstat -tulpn`¬†(–∫–∞–∫–∏–µ –ø–æ—Ä—Ç—ã —Å–ª—É—à–∞—é—Ç—Å—è).
        
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:¬†`systemctl list-units --type=service --state=running`.
        
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö –ø—Ä–∞–≤–∞:¬†`getent group sudo`¬†(–∫—Ç–æ –∏–º–µ–µ—Ç –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞).
        
    - _–≠—Ç–æ —Ç–≤–æ–µ "–±—ã–ª–æ". –í —Å—Ç–∞—Ç—å–µ –±—É–¥–µ—Ç –∫—Ä—É—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å—Å—è —Ç–∞–±–ª–∏—á–∫–∞ "–î–æ" –∏ "–ü–æ—Å–ª–µ"._

![[Pasted image 20251018145148.png]]

![[Pasted image 20251018145148.png]]![[Pasted image 20251018145205.png]]


–î–û–ë–ê–í–õ–ï–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô

–ò–ù–¢–ï–†–ê–ö–¢–ò–í–ù–û 
–ù–ï–ò–ù–¢–ï–†–ê–ö–¢–ò–í–ù–û

### `adduser`¬†vs¬†`useradd`¬†- –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞?

#### **`adduser`¬†(–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π, "–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π")**

**–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ:**¬†Debian/Ubuntu (–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –ø–∞–∫–µ—Ç–µ¬†`adduser`)  
**–§–∏–ª–æ—Å–æ—Ñ–∏—è:**¬†"–í—Å—ë –≤–∫–ª—é—á–µ–Ω–æ", —É–¥–æ–±—Å—Ç–≤–æ –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥**¬†- –∑–∞–¥–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã –∫–∞–∫ –Ω–∞ –≤–∞—à–µ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ
    
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç:**
    
    - –î–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (`/home/username/`)
        
    - –ì—Ä—É–ø–ø—É —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        
    - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
        
- **–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:**¬†–§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω –∏ —Ç.–¥.
    
- **–ë–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
    

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

bash

sudo adduser hmsrvadm

_–ò –∑–∞—Ç–µ–º –æ—Ç–≤–µ—á–∞–µ—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –≤ –¥–∏–∞–ª–æ–≥–æ–≤–æ–º —Ä–µ–∂–∏–º–µ_

---

#### **`useradd`¬†(–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π, "—Å–∏—Å—Ç–µ–º–Ω—ã–π")**

**–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ:**¬†–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ Linux (–∏–∑ –ø–∞–∫–µ—Ç–∞¬†`shadow-utils`)  
**–§–∏–ª–æ—Å–æ—Ñ–∏—è:**¬†"–¢–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–æ", –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- **–ù–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π**¬†- –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
    
- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ù–ï —Å–æ–∑–¥–∞–µ—Ç:**
    
    - –î–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–±–µ–∑ —Ñ–ª–∞–≥–∞¬†`-m`)
        
    - –ì—Ä—É–ø–ø—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–±–µ–∑ —Ñ–ª–∞–≥–∞¬†`-U`)
        
- **–ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞—Ä–æ–ª—å**¬†–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω—É–∂–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ¬†`passwd`)
    
- **–ë–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è**¬†–Ω–∞–¥ –∫–∞–∂–¥—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
    

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

_–ë–∞–∑–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–±–µ–∑ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏):_

bash

sudo useradd hmsrvadm

_–°–æ–∑–¥–∞–Ω–∏–µ —Å –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π –∏ –≥—Ä—É–ø–ø–æ–π:_

bash

sudo useradd -m -U hmsrvadm

_–°–æ–∑–¥–∞–Ω–∏–µ —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:_

bash

sudo useradd -m -U -c "Home Server Admin" -s /bin/bash hmsrvadm

---

### –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å—Ç–∞—Ç—å–∏

|–ö—Ä–∏—Ç–µ—Ä–∏–π|`adduser`|`useradd`|
|---|---|---|
|**–¢–∏–ø –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**|–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π|–ù–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π|
|**–°–æ–∑–¥–∞–µ—Ç –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é**|‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏|‚ùå –¢–æ–ª—å–∫–æ —Å —Ñ–ª–∞–≥–æ–º¬†`-m`|
|**–°–æ–∑–¥–∞–µ—Ç –≥—Ä—É–ø–ø—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**|‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏|‚ùå –¢–æ–ª—å–∫–æ —Å —Ñ–ª–∞–≥–æ–º¬†`-U`|
|**–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞—Ä–æ–ª—å**|‚úÖ –í –¥–∏–∞–ª–æ–≥–µ|‚ùå –ù—É–∂–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ¬†`passwd`|
|**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**|‚úÖ –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç|‚ùå –¢–æ–ª—å–∫–æ —Å —Ñ–ª–∞–≥–æ–º¬†`-c`|
|**–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è**|–†—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –Ω–æ–≤–∏—á–∫–æ–≤|–°–∫—Ä–∏–ø—Ç–æ–≤, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏|
|**–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ**|–í –æ—Å–Ω–æ–≤–Ω–æ–º Debian/Ubuntu|–í—Å–µ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã Linux|

---

### –ß—Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –≤ —Å—Ç–∞—Ç—å–µ?

**–î–ª—è –≤–∞—à–µ–≥–æ –≥–∞–π–¥–∞ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**

bash

# –î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ - –ø—Ä–æ—â–µ –∏ –Ω–∞–≥–ª—è–¥–Ω–µ–µ
sudo adduser myadmin

# –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö
sudo useradd -m -U -s /bin/bash myadmin
sudo passwd myadmin

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è —á–∏—Ç–∞—Ç–µ–ª–µ–π:**  
"–ï—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤—Ä—É—á–Ω—É—é –∏ —Ö–æ—Ç–∏—Ç–µ –º–∏–Ω–∏–º—É–º –ø—Ä–æ–±–ª–µ–º - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ¬†`adduser`. –û–Ω —Å–¥–µ–ª–∞–µ—Ç –≤—Å—ë –Ω—É–∂–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ï—Å–ª–∏ –ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ¬†`useradd`, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–≤–æ–¥–∞."

–≠—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –º–æ–º–µ–Ω—Ç –¥–ª—è –≤–∞—à–µ–π —Å—Ç–∞—Ç—å–∏! –ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞ - —ç—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≥–ª—É–±–∏–Ω—É –ø–æ–Ω–∏–º–∞–Ω–∏—è.


# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
cat /etc/passwd 

# –ò–ª–∏ —Ç–∞–∫ - –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º–æ
getent passwd hmsrvadm

# –ü—Ä–æ–≤–µ—Ä–∏–º –≥—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
groups hmsrvadm
# –∏–ª–∏
id hmsrvadm


``` sh
echo "=== –û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã ==="
getent passwd | awk -F: '$3 >= 1000 && $6 ~ /^\/home\// {
    print "üë§ " $1 " (UID:" $3 ")" 
}' | sort

echo ""
echo "=== –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏) ==="
getent passwd | awk -F: '$3 < 1000 {
    print "‚öôÔ∏è  " $1 " (UID:" $3 ")" 
}' | head -10
```

``` sh
getent passwd | awk -F: '$3 >= 1000 && $6 ~ /^\/home\// && $7 !~ /(false|nologin)/ {
    "id -Gn "$1 | getline user_groups
    close("id -Gn "$1)
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø
    privileged = ""
    if (user_groups ~ /sudo|wheel|adm|root/) privileged = " ‚ö†Ô∏è PRIVILEGED"
    
    printf "%-12s UID:%-6s Groups:%-30s Shell:%s%s\n", $1, $3, user_groups, $7, privileged
}'

```


# –î–û–ë–ê–í–õ–Ø–¢–¨ –¢–û–õ–¨–ö–û –ï–°–õ–ò –î–ï–ô–°–¢–í–ò–¢–ï–õ–¨–ù–û –ù–£–ñ–ù–û!
sudo usermod -aG adm hmsrvadm

1. **`adm`**¬†- –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –ª–æ–≥–∞–º —á–µ—Ä–µ–∑¬†`sudo tail`¬†/¬†`sudo less`¬†–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ
–Ω–æ —è –≤—Å–µ –∂–µ –¥–æ–±–∞–≤–∏–ª 


–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 


```  sh
sudo su - hmsrvadm
```

–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º ssh




c—Å–¥–µ–ª–∞–µ–º –±—ç–∫–∞–ø —Ç–µ–∫—É–∑–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ 

``` sh
sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.backup
```

–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª—é—á–∏ –Ω–∞ –ª–æ–∫—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ 

```sh
ssh-keygen -t ed25519 -C "hmsrvadm@home-server" -f ~/.ssh/hmsrvadm_key
ls -la ~/.ssh/hmsrvadm_key*
```


–°–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –∫–ª—é—á—å —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª 

s3d0y@hmsrv:~$ echo "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMY/Sk+diugNbcDI1nWXUo9eDf169kJXLKFDvHNwmAQ1 s3d0y@home-server" >> ~/.ssh/authorized_keys


chmod 700 ~/.ssh 
chmod 600 ~/.ssh/authorized_keys


–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞ sudo 
```
network:
  version: 2
  renderer: networkd
  ethernets:
    enp2s0:
      dhcp4: no
      addresses: 
        - 192.168.88.250/24
      routes:
        - to: default
          via: 192.168.88.1
      nameservers:
        addresses: 
          - 8.8.8.8
          - 1.1.1.1
        search: 
          - local
            
            
```



–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∫–æ–Ω—Ñ–∏–≥–∞ 
sudo sshd -t



# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –∫–ª—é—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
ssh -i ~/.ssh/my_key user@server -p 3322

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–∞—Ä–æ–ª–∏ –û–¢–ö–õ–Æ–ß–ï–ù–´
ssh -o PreferredAuthentications=password user@server -p 3322
# –û–∂–∏–¥–∞–µ–º: Permission denied (publickey)


–î–æ–Ω–∞—Å—Ç—Ä–æ–∏–º –°–°–® –∫–æ–Ω—Ñ–∏–≥ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–µ–Ω–µ 


Host home-server
    HostName 192.168.88.250
    Port 3322
    User s3d0y
    IdentityFile ~/.ssh/s3d0y_key
    IdentitiesOnly yes
    ServerAliveInterval 60
    ServerAliveCountMax 3

Host home-server-admin
    HostName 192.168.88.250
    Port 3322  
    User hmsrvadm
    IdentityFile ~/.ssh/hmsrvadm_key
    IdentitiesOnly yes
    ServerAliveInterval 60
    ServerAliveCountMax 3


—á—Ç–æ —Å—Ç–∞–ª–æ:

—É–¥–æ–±–Ω—ã–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã  ssh home-server
–ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —á–µ—Ä–µ–∑
ssh home-<TAB>  # –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–ø–∏—à–µ—Ç home-server –∏–ª–∏ home-server-admin

—É–ø—Ä–æ—â–µ–Ω–∏–µ SCP SFTP 

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
scp file.txt home-server:/tmp/
scp home-server:/var/log/syslog ./ 

# SFTP
sftp home-server

> **"–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ SSH: —á—Ç–æ –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è:**
> 
> **–ù–∞ –°–ï–†–í–ï–†–ï:**
> 
> - `/etc/ssh/sshd_config`¬†- ‚öôÔ∏è –û–ë–©–ò–ï –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤—Å–µ—Ö
>     
> - `/home/user/.ssh/authorized_keys`¬†- üîë –°–í–û–ò –∫–ª—é—á–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
>     
> 
> **–ù–∞ –ö–õ–ò–ï–ù–¢–ï (—Ç–≤–æ—è –º–∞—à–∏–Ω–∞):**
> 
> - `~/.ssh/config`¬†- üéØ –°–í–û–ò –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
>     
> - `~/.ssh/*_key`¬†- üîê –°–í–û–ò –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏
>     
> 
> **–ü—Ä–∏–Ω—Ü–∏–ø:**¬†–ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏–º–∏ –∫–ª—é—á–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∫–ª–∏–µ–Ω—Ç–∞"

**–ò—Ç–æ–≥:**

- ‚úÖ¬†`authorized_keys`¬†- —Å–≤–æ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
    
- ‚úÖ¬†`sshd_config`¬†- –æ–±—â–∏–π –¥–ª—è –≤—Å–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
    
- ‚úÖ¬†`config`¬†- —Å–≤–æ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

–í—ç–π–∫ –æ–Ω –ª–∞–Ω 

–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä—è–º—É—é —Å –º–∏–∫—Ä–æ—Ç–∏–∫–∞ 
[admin@MikroTik] > /tool wol mac=00:D8:61:A0:F1:EF interface=bridge-l
ocal

–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ 

sudo nano /etc/systemd/system/wol.service

 —Ç–µ–∫—Å —Å–ª—É–∂–±—ã
 
[Unit]
Description=Enable Wake-on-LAN
After=network.target
Wants=network.target

[Service]
Type=oneshot
ExecStart=/sbin/ethtool -s enp2s0 wol g
RemainAfterExit=yes
User=root

[Install]
WantedBy=multi-user.target


sudo chmod 644 /etc/systemd/system/wol.service

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º systemd –¥–µ–º–æ–Ω
sudo systemctl daemon-reload

# –í–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É —Å–ª—É–∂–±—ã
sudo systemctl enable wol.service

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–ª—É–∂–±—É (–ø—Ä–∏–º–µ–Ω–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ä–∞–∑—É)
sudo systemctl start wol.service

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
sudo systemctl status wol.service

sudo ethtool enp2s0 | grep -i wake

**"–°–ª—É–∂–±–∞ Wake-on-LAN: –∑–∞—á–µ–º –æ–Ω–∞ –Ω—É–∂–Ω–∞?**

**–ü—Ä–æ–±–ª–µ–º–∞:**¬†–ù–∞—Å—Ç—Ä–æ–π–∫–∏¬†`ethtool -s wol g`¬†—Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏  
**–†–µ—à–µ–Ω–∏–µ:**¬†Systemd —Å–ª—É–∂–±–∞, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:**

1. –í–∫–ª—é—á–∏ WoL:¬†`sudo ethtool -s enp2s0 wol g`
    
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ —Å–µ—Ä–≤–µ—Ä
    
3. –ü—Ä–æ–≤–µ—Ä—å:¬†`ethtool enp2s0 | grep Wake-on`
    

**–ï—Å–ª–∏¬†`Wake-on: d`¬†–ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ - —Å–ª—É–∂–±–∞ –Ω—É–∂–Ω–∞!**"

–ø–æ–ª—É—á–∏–ª–æ—Å—å —á—Ç–æ –≤–æ–ª –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ –¥—Ä—É–≥–æ–º—É 

–Ω–∞ –º–∏–∫—Ä–æ—Ç–∏–∫–µ —Å–¥–µ–ª–∞–ª–∏ 

# 1. –°–æ–∑–¥–∞–µ–º –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∞–¥—Ä–µ—Å-–ª–∏—Å—Ç
/ip firewall filter add chain=input protocol=udp dst-port=9999 in-interface=wlan1 action=add-src-to-address-list address-list=wol-requests address-list-timeout=1m comment="WoL requests"

# 2. –°–æ–∑–¥–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–¥—Ä–µ—Å-–ª–∏—Å—Ç
/system script add name=process-wol source="\
:if ([/ip firewall address-list find list=wol-requests]) do={\
    /tool wol mac=00:D8:61:A0:F1:EF interface=bridge-local;\
    /ip firewall address-list remove [find list=wol-requests];\
    :log info \"WoL executed for server\";\
}"

# 3. –°–æ–∑–¥–∞–µ–º –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
/system scheduler add name=wol-check interval=10s on-event="/system script run process-wol"


–∏ –¥–æ–±–∞–≤–∏–ª –∑—Å—à –∞–ª–∏–∞—Å—ã –ø—Ä–∞–≤–¥–∞ –µ—à–µ –ø—Ä–∏—à–ª–æ –∑—Å—à –ø–æ–¥–∫—Ä—É—Ç–∏—Ç—å ...


.zshrc
# Path to your oh-my-zsh installation.
export ZSH="$HOME/.oh-my-zsh"

# Set theme
ZSH_THEME="robbyrussell"

# Plugins - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏
plugins=(
    git
    zsh-autosuggestions
    zsh-syntax-highlighting
)

source $ZSH/oh-my-zsh.sh

# =============================================
# Custom Aliases
# =============================================

# Server Management
alias wake-server="echo 'wake' | nc -u 192.168.88.1 9999 -w 1 && echo '‚úÖ –°–µ—Ä–≤–µ—Ä –≤–∫–ª—é—á–∞–µ—Ç—Å—è...'"
alias ssh-server="ssh home-server"
alias ssh-admin="ssh home-server-admin"

# Navigation
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."

# Utilities
alias ll="ls -alF"
alias la="ls -A"
alias l="ls -CF"
alias myip="curl ifconfig.me"
alias ports="netstat -tulpn"

# System info
alias meminfo="free -h"
alias diskusage="df -h"
alias cpuinfo="lscpu"

# Add ~/bin to PATH
export PATH="$HOME/bin:$PATH"

